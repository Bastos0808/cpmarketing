:root {
    --glow-sens: 30;
    --card-bg: transparent; /* Changed to transparent to not override shadcn card */
    --blend: soft-light;
    --glow-blend: plus-lighter;
    --glow-color: 40deg 80% 80%;
}

.card-interactive {
    --pads: 40px;
    --color-sens: calc(var(--glow-sens) + 20);
    position: relative;
    isolation: isolate;
    transform: translate3d(0, 0, 0.01px);
}

.card-interactive::before,
.card-interactive > .glow {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    transition: opacity 0.25s ease-out;
    z-index: -1;
}

.card-interactive:not(:hover):not(.animating) {
    &::before,
    & > .glow {
        opacity: 0;
        transition: opacity 0.75s ease-in-out;
    }
}

.card-interactive::before {
    /* mesh gradient border */
    border: 1px solid transparent;
    background:
        linear-gradient(var(--card-bg) 0 100%) padding-box,
        linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
        radial-gradient(at 80% 55%, hsla(268,100%,76%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 69% 34%, hsla(349,100%,74%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 8% 6%, hsla(136,100%,78%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 41% 38%, hsla(192,100%,64%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 86% 85%, hsla(186,100%,74%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 82% 18%, hsla(52,100%,65%,1) 0px, transparent 50%) border-box,
        radial-gradient(at 51% 4%, hsla(12,100%,72%,1) 0px, transparent 50%) border-box,
        linear-gradient(#c299ff 0 100%) border-box;
    opacity: calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
    mask-image: 
        conic-gradient( 
            from var(--pointer-°) at center, black 25%, transparent 40%, transparent 60%, black 75%
        );
}

.card-interactive > .glow {
    /* glowing border edges */
    --outset: var(--pads);
    inset: calc(var(--outset) * -1);
    pointer-events: none;
    z-index: 1;
    mask-image: 
        conic-gradient( 
            from var(--pointer-°) at center, black 2.5%, transparent 10%, transparent 90%, black 97.5%
        );
    opacity: calc((var(--pointer-d) - var(--glow-sens)) / (100 - var(--glow-sens)));
    mix-blend-mode: var(--glow-blend);
}

.card-interactive > .glow::before {
    content: "";
    position: absolute;
    inset: var(--outset);
    border-radius: inherit;
    box-shadow: 
        inset 0 0 0 1px hsl( var(--glow-color) / 100%),
        inset 0 0 2px 2px hsl( var(--glow-color) / 90%),
        inset 0 0 5px 1px hsl( var(--glow-color) / 75%),
        inset 0 0 8px 1px hsl( var(--glow-color) / 66%),
        inset 0 0 15px 0 hsl( var(--glow-color) / 50%),
        inset 0 0 25px 2px hsl( var(--glow-color) / 30%),
        inset 0 0 50px 2px hsl( var(--glow-color) / 10%),

        0 0 2px 2px hsl( var(--glow-color) / 90%),
        0 0 5px 1px hsl( var(--glow-color) / 75%),
        0 0 8px 1px hsl( var(--glow-color) / 66%),
        0 0 15px 0 hsl( var(--glow-color) / 50%),
        0 0 25px 2px hsl( var(--glow-color) / 30%),
        0 0 50px 2px hsl( var(--glow-color) / 10%);
}
